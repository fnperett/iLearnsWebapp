<script src="scripts/global.js"></script>

<html>
    <div class="page_headder">
        <div>
            <h1 style="font-family: cursive;">iLearns</h1>
            <div class="title">
                <t style="font-size: 100px;">
                    Settings
                </t>
            </div>
        </div>
    </div>
    <div class="page_body">
        <div class="buttons" style="width: fit-content; text-align: center; display: inline-block;">
            <div style="position: absolute; left: 18.5vw; margin-top: 7.5%; display: inline-flex; gap: 1vw;">
                <button style="width: 10cqw; background-color: 8185F0;"></button>
                <button style="width: 10cqw; background-color: FFDD64;"></button>
                <button style="width: 10cqw; background-color: FF776D;"></button>
                <button style="width: 10cqw; background-color: 81b684;"></button>
            </div>
            <div class="e_row_one" style="flex: auto; display: inline-flex;">
                <button>1</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button>2</button>
            </div>
            <div class="e_row_two" style="flex: auto; display: inline-flex;">
                <button>3</button>
                <button>4</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button>5</button>
                <button>6</button>
                <button>7</button>
                <button>8</button>
                <button>9</button>
                <button>10</button>
            </div>
            <div class="e_row_three" style="flex: auto; display: inline-flex;">
                <button>11</button>
                <button>12</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button style="visibility: hidden;">-</button>
                <button>13</button>
                <button>14</button>
                <button>15</button>
                <button>16</button>
                <button>17</button>
                <button>18</button>
            </div>
            <div class="e_row_four" style="flex: auto; display: inline-flex;">
                <button>19</button>
                <button>20</button>
                <button>21</button>
                <button>22</button>
                <button>23</button>
                <button>24</button>
                <button>25</button>
                <button>26</button>
                <button>27</button>
                <button>28</button>
                <button>29</button>
                <button>30</button>
                <button>31</button>
                <button>32</button>
                <button>33</button>
                <button>34</button>
                <button>35</button>
                <button>36</button>
            </div>
            <div class="e_row_five" style="flex: auto; display: inline-flex;">
                <button>37</button>
                <button>38</button>
                <button>39</button>
                <button>40</button>
                <button>41</button>
                <button>42</button>
                <button>43</button>
                <button>44</button>
                <button>45</button>
                <button>46</button>
                <button>47</button>
                <button>48</button>
                <button>49</button>
                <button>50</button>
                <button>51</button>
                <button>52</button>
                <button>53</button>
                <button>54</button>
            </div>
            <div class="e_row_five" style="flex: auto; display: inline-flex; position: absolute; left: 5vw; padding-top: 8%; gap: 1.7vw;">
                <button>&#8962;</button>
                <button>+</button>
                <button>-</button>
                <button>back</button>
            </div>
            <div class="e_row_five" style="flex: auto; display: inline-flex; position: absolute; left: 71.4vw; padding-top: 8%; gap: 1.7vw;">
                <button>&lt;</button>
                <button>o</button>
                <button>&gt;</button>
            </div>
        </div>
    </div>
    <div class="page_footer">
        <button onclick="getRootPage();">
            <img src="/images/back.png" style="width: -webkit-fill-available;">
        </button>
    </div>
</html>



<style>
    .page_headder{
        height: 10%;
    }
    .title{
        text-align: center;
    }
    .page_body{
        height: 80%;
        text-align: center;
        align-content: center;
    }
    .page_body button{
        width: 5cqw;
        height: 5cqw;

    }

    .select_button{
        height: 30%;
        width: 40%;
        text-align: center;
    }

    .page_footer button{
        height: 75px;
        width: 75px;
    }
</style>


<script>
    document.querySelectorAll("button").forEach(button => {
        button.addEventListener("click", function() {
            // Set button background to gray
            let old = this
            let buttonText = this.textContent.trim()
            this.style.backgroundColor = "gray";
    
            let activeButton = this;
            let inputText = "";
    
            // Listen for keyboard input
            document.addEventListener("keydown", function handler(event) {
                if (event.key === "Enter") {
                    // Send POST request when Enter is pressed
                    fetch("/", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ button_remap: buttonText, id: inputText })
                    }).then(response => response.json())
                      .then(data => console.log("Response:", data))
                      .catch(error => console.error("Error:", error));
    
                    // Reset button background and remove event listener
                    old.style.backgroundColor = "white";
                    console.log("changing color back to white")
                    document.removeEventListener("keydown", handler);
                } else if (event.key.length === 1) {
                    // Append typed character to inputText
                    inputText += event.key;
                }
            });
        });
    });
    </script>
    

<!-- <script>
    const buttons = document.querySelectorAll("button");

    for (let i = 0; i < buttons.length; i++) {
        buttons[i].addEventListener("click", function() {
            buttonText = buttons[i].textContent.trim()
            console.log("Button clicked:", buttonText);
            fetch("/", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({button_remap : buttonText })
            })
            .then(response => response.json())
            .then(data => console.log("Success:", data))
            .catch(error => console.error("Error:", error));
        });
    }

</script> -->